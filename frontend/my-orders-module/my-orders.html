<!-- My Orders Module HTML -->
<div id="my-orders-module" class="micro-frontend">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
        <div class="container">
            <a class="navbar-brand text-wood fw-bold" href="#" id="brandLink">
                <i class="bi bi-house-door-fill me-2"></i>
                MobiliAri
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="catalogNavLink">Catálogo</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="customizeNavLink">Personalizar</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#" data-section="mis-pedidos">Mis Pedidos</a>
                    </li>
                </ul>
                
                <div class="d-flex">
                    <button class="btn btn-outline-wood me-2" id="cartBtn">
                        <i class="bi bi-cart3"></i>
                        <span class="badge bg-wood ms-1" id="cartCount">0</span>
                    </button>
                    <button class="btn btn-wood" id="logoutBtn">
                        <i class="bi bi-box-arrow-right me-2"></i>Cerrar Sesión
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-5 mt-4">
        <div class="container py-5">
            <div class="text-center mb-5">
                <h2 class="text-dark-wood mb-3">
                    <i class="bi bi-bag-check me-2"></i>
                    Mis Pedidos
                </h2>
                <p class="text-muted">Historial y seguimiento de tus pedidos</p>
            </div>
            <!-- Filters -->
            <div class="row mb-4">
                <div class="col-md-3">
                    <label class="form-label">Estado del Pedido</label>
                    <select class="form-select" id="statusFilter">
                        <option value="">Todos los estados</option>
                        <option value="pendiente">Pendiente</option>
                        <option value="confirmado">Confirmado</option>
                        <option value="en_proceso">En Proceso</option>
                        <option value="completado">Completado</option>
                        <option value="cancelado">Cancelado</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Fecha</label>
                    <select class="form-select" id="dateFilter">
                        <option value="">Todas las fechas</option>
                        <option value="today">Hoy</option>
                        <option value="week">Esta semana</option>
                        <option value="month">Este mes</option>
                        <option value="year">Este año</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label class="form-label">Buscar</label>
                    <input type="text" class="form-control" id="searchOrders" placeholder="Buscar por ID o producto...">
                </div>
                <div class="col-md-2 d-flex align-items-end">
                    <button class="btn btn-wood w-100" id="applyFiltersBtn">
                        <i class="bi bi-funnel me-1"></i>
                        Filtrar
                    </button>
                </div>
            </div>

            <!-- Orders Stats -->
            <div class="row mb-4">
                <div class="col-md-3">
                    <div class="stat-card bg-primary text-white">
                        <div class="stat-icon">
                            <i class="bi bi-bag"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalOrders">0</h3>
                            <p>Total Pedidos</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-card bg-warning text-white">
                        <div class="stat-icon">
                            <i class="bi bi-clock"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="pendingOrders">0</h3>
                            <p>Pendientes</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-card bg-info text-white">
                        <div class="stat-icon">
                            <i class="bi bi-gear"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="inProcessOrders">0</h3>
                            <p>En Proceso</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-card bg-success text-white">
                        <div class="stat-icon">
                            <i class="bi bi-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="completedOrders">0</h3>
                            <p>Completados</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Orders List -->
            <div class="card">
                <div class="card-header">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">
                            <i class="bi bi-list-ul me-2"></i>
                            Lista de Pedidos
                        </h5>
                        <button class="btn btn-outline-wood btn-sm" id="refreshOrdersBtn">
                            <i class="bi bi-arrow-clockwise me-1"></i>
                            Actualizar
                        </button>
                    </div>
                </div>
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="table-light">
                                <tr>
                                    <th>ID Pedido</th>
                                    <th>Fecha</th>
                                    <th>Productos</th>
                                    <th>Total</th>
                                    <th>Estado</th>
                                    <th>Fecha Entrega</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="ordersTableBody">
                                <!-- Orders will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Empty State -->
            <div class="text-center py-5 d-none" id="emptyState">
                <i class="bi bi-bag-x display-1 text-muted mb-3"></i>
                <h4 class="text-muted">No tienes pedidos aún</h4>
                <p class="text-muted">¡Explora nuestro catálogo y realiza tu primer pedido!</p>
                <button class="btn btn-wood" data-module="catalog">
                    <i class="bi bi-grid-3x3-gap me-2"></i>
                    Ver Catálogo
                </button>
            </div>
        </div>
    </main>

    <!-- Order Detail Modal -->
    <div class="modal fade" id="orderDetailModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="bi bi-eye me-2"></i>
                        Detalle del Pedido
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="orderDetailContent">
                    <!-- Order details will be loaded here -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-wood" id="reorderBtn">
                        <i class="bi bi-arrow-repeat me-1"></i>
                        Volver a Pedir
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
