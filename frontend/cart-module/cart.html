<!-- Cart Module HTML -->
<div id="cart-module" class="micro-frontend">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
        <div class="container">
            <a class="navbar-brand text-wood fw-bold" href="#" id="brandLink">
                <i class="bi bi-house-door-fill me-2"></i>
                MobiliAri
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="catalogNavLink">Catálogo</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="customizeNavLink">Personalizar</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="myOrdersNavLink">Mis Pedidos</a>
                    </li>
                </ul>
                
                <div class="d-flex">
                    <button class="btn btn-outline-wood me-2 active" id="cartBtn">
                        <i class="bi bi-cart3"></i>
                        <span class="badge bg-wood ms-1" id="cartCount">0</span>
                    </button>
                    <button class="btn btn-wood" id="logoutBtn">
                        <i class="bi bi-box-arrow-right me-2"></i>Cerrar Sesión
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-5 mt-4">
        <div class="container py-5">
            <div class="text-center mb-5">
                <h2 class="text-dark-wood mb-3">
                    <i class="bi bi-cart me-2"></i>
                    Carrito de Compras
                </h2>
                <p class="text-muted">Revisa y confirma tu pedido</p>
            </div>
            <!-- Cart Items -->
            <div class="row">
                <div class="col-lg-8">
                    <div class="card">
                        <div class="card-header">
                            <div class="d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">
                                    <i class="bi bi-bag me-2"></i>
                                    Productos en tu Carrito
                                    <span class="badge bg-wood ms-2" id="cartItemCount">0</span>
                                </h5>
                                <button class="btn btn-outline-secondary btn-sm" id="clearCartBtn">
                                    <i class="bi bi-trash me-1"></i>
                                    Vaciar Carrito
                                </button>
                            </div>
                        </div>
                        <div class="card-body p-0">
                            <div id="cartItemsList">
                                <!-- Cart items will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Order Summary -->
                <div class="col-lg-4">
                    <div class="card sticky-top">
                        <div class="card-header">
                            <h5 class="mb-0">
                                <i class="bi bi-receipt me-2"></i>
                                Resumen del Pedido
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="summary-item d-flex justify-content-between">
                                <span>Subtotal:</span>
                                <span id="subtotal">$0</span>
                            </div>
                            <div class="summary-item d-flex justify-content-between">
                                <span>Envío:</span>
                                <span id="shipping">$500</span>
                            </div>
                            <div class="summary-item d-flex justify-content-between">
                                <span>IVA (16%):</span>
                                <span id="tax">$0</span>
                            </div>
                            <hr>
                            <div class="summary-total d-flex justify-content-between">
                                <strong>Total:</strong>
                                <strong class="text-wood" id="total">$0</strong>
                            </div>
                            
                            <div class="mt-4">
                                <button class="btn btn-wood w-100 mb-2" id="checkoutBtn" disabled>
                                    <i class="bi bi-credit-card me-2"></i>
                                    Proceder al Pago
                                </button>
                                <button class="btn btn-outline-wood w-100" data-module="catalog">
                                    <i class="bi bi-arrow-left me-2"></i>
                                    Seguir Comprando
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Empty Cart State -->
            <div class="text-center py-5 d-none" id="emptyCartState">
                <i class="bi bi-cart-x display-1 text-muted mb-3"></i>
                <h4 class="text-muted">Tu carrito está vacío</h4>
                <p class="text-muted">¡Explora nuestro catálogo y encuentra los muebles perfectos para ti!</p>
                <button class="btn btn-wood" data-module="catalog">
                    <i class="bi bi-grid-3x3-gap me-2"></i>
                    Ver Catálogo
                </button>
            </div>
        </div>
    </main>

    <!-- Checkout Modal -->
    <div class="modal fade" id="checkoutModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="bi bi-credit-card me-2"></i>
                        Finalizar Pedido
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="checkoutForm">
                        <div class="row">
                            <div class="col-md-6">
                                <h6 class="text-wood mb-3">Información de Entrega</h6>
                                <div class="mb-3">
                                    <label class="form-label">Nombre Completo</label>
                                    <input type="text" class="form-control" name="fullName" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Teléfono</label>
                                    <input type="tel" class="form-control" name="phone" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Dirección</label>
                                    <textarea class="form-control" name="address" rows="3" required></textarea>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6 class="text-wood mb-3">Fecha de Entrega</h6>
                                <div class="mb-3">
                                    <label class="form-label">Fecha Preferida</label>
                                    <input type="date" class="form-control" name="deliveryDate" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Notas Especiales</label>
                                    <textarea class="form-control" name="notes" rows="4" placeholder="Instrucciones especiales para la entrega..."></textarea>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-wood" id="confirmOrderBtn">
                        <i class="bi bi-check-circle me-1"></i>
                        Confirmar Pedido
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
